<div class="table-wrapper">
	<div class="table-title">
	  <div class="row">
		<div class="col-sm-6">
		  <h2>Manage <b>Players</b></h2>
		</div>
		<div class="col-sm-6">
		  <a href="#addPlayerModal" class="btn btn-success" data-bs-toggle="modal">
			<i class="material-icons">&#xE147;</i> <span>Add New Player</span>
		  </a>
		</div>
	  </div>
	</div>
	<!-- Player Table -->
	<table class="table table-striped table-hover">
	  <thead>
		<tr>
		  <th>ID</th>
		  <th>Player Name</th>
		  <th>Team Name</th>
		  <th>Position</th>		  
		  <th>Actions</th>
		</tr>
	  </thead>
	  <tbody>
		<tr *ngFor="let player of players">
		  <td>{{ player.id }}</td>
		  <td>{{ player.user.firstName }} {{ player.user.lastName }}</td>
		  <td>{{player.team.teamName}}</td>
		  <td>{{ player.position }}</td>	  
		  
		  <td>
			<a href="#editPlayerModal" class="edit" data-bs-toggle="modal" (click)="editPlayer(player)">
			  <i class="material-icons" data-bs-toggle="tooltip" title="Edit">&#xE254;</i>
			</a>
			<a href="#deletePlayerModal" class="delete" data-bs-toggle="modal" (click)="editPlayer(player)">
			  <i class="material-icons" data-bs-toggle="tooltip" title="Delete">&#xE872;</i>
			</a>
		  </td>
		</tr>
	  </tbody>
	</table>
  </div>
  
  <!-- Add Player Modal >
  <div id="addPlayerModal" class="modal fade" tabindex="-1" aria-labelledby="addPlayerModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
	  <div class="modal-content">
		<form (ngSubmit)="addPlayer()" #playerForm="ngForm">
		  <div class="modal-header">
			<h4 class="modal-title" id="addPlayerModalLabel">Add Player</h4>
			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
		  </div>
		  <div class="modal-body">
			<div class="row">
			  < First Name >
			  <div class="col-md-6">
				<div class="form-group">
				  <label for="firstName">First Name</label>
				  <input id="firstName" type="text" class="form-control" [(ngModel)]="newPlayer.user.firstName"
					name="firstName" required>
				</div>
			  </div>
  
			  < Last Name >
			  <div class="col-md-6">
				<div class="form-group">
				  <label for="lastName">Last Name</label>
				  <input id="lastName" type="text" class="form-control" [(ngModel)]="newPlayer.user.lastName" name="lastName"
					required>
				</div>
			  </div>
			</div>
  
			<div class="row">
			  <Email >
			  <div class="col-md-6">
				<div class="form-group">
				  <label for="email">Email</label>
				  <input id="email" type="email" class="form-control" [(ngModel)]="newPlayer.email" name="email"
					required>
				</div>
			  </div>
  
			  <City >
			  <div class="col-md-6">
				<div class="form-group">
				  <label for="city">City</label>
				  <input id="city" type="text" class="form-control" [(ngModel)]="newPlayer.user.city" name="city" required>
				</div>
			  </div>
			</div>
  
			<div cass="row">
			  < Age >
			  <div class="col-md-6">
				<div class="form-group">
				  <label for="age">Age</label>
				  <input id="age" type="number" class="form-control" [(ngModel)]="newPlayer.age" name="age" required>
				</div>
			  </div>
  
			  <Gender 
			  <div class="col-md-6">
				<div class="form-group">
				  <label for="gender">Gender</label>
				  <select id="gender" class="form-control" [(ngModel)]="newPlayer.user.gender" name="gender" required>
					<option value="Male">Male</option>
					<option value="Female">Female</option>
					<option value="Other">Other</option>
				  </select>
				</div>
			  </div>
			</div>
  
			<div class="row">
			  <Role >
			  <div class="col-md-6">
				<div class="form-group">
				  <label for="role">Role</label>
				  <select id="role" class="form-control" [(ngModel)]="newPlayer.position" name="role" required>
					<option value="Batsman">Batsman</option>
					<option value="Bowler">Bowler</option>
					<option value="All-Rounder">All-Rounder</option>
				  </select>
				</div>
			  </div>
			</div>
		  </div>
		  <div class="modal-footer">
			<input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancel">
			<input type="submit" class="btn btn-success" value="Add Player" [disabled]="!playerForm.valid">
		  </div>
		</form>
	  </div>
	</div>
  </div-->
  
  <!-- Edit Player Modal -->
  <div id="editPlayerModal" class="modal fade">
	<div class="modal-dialog">
	  <div class="modal-content">
		<form (ngSubmit)="updatePlayer()">
		  <div class="modal-header">
			<h4 class="modal-title">Edit Player</h4>
			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
		  </div>
  
		  <div class="modal-body">
			<!-- User ID -->
			<div class="form-group">
			  <label for="editUserId">User ID</label>
			  <input
				id="editUserId"
				type="number"
				class="form-control"
				[(ngModel)]="selectedPlayer.user.id"
				name="userId"
				required
			  />
			</div>
  
			<!-- Team ID -->
			<div class="form-group">
			  <label for="editTeamId">Team ID</label>
			  <input
				id="editTeamId"
				type="number"
				class="form-control"
				[(ngModel)]="selectedPlayer.team.id"
				name="teamId"
				required
			  />
			</div>
  
			<!-- Player Name -->
			<div class="form-group">
			  <label for="editPlayerName">Player Name</label>
			  <input
				id="editPlayerName"
				type="text"
				class="form-control"
				[(ngModel)]="selectedPlayer.playerName"
				name="playerName"
				required
			  />
			</div>
  
			<!-- Player Position -->
			<div class="form-group">
			  <label for="editPosition">Position</label>
			  <select
				id="editPosition"
				class="form-control"
				[(ngModel)]="selectedPlayer.position"
				name="position"
				required
			  >
				<option value="BATSMAN">Batsman</option>
				<option value="BOWLER">Bowler</option>
				<option value="ALLROUNDER">All-Rounder</option>
			  </select>
			</div>
		  </div>
  
		  <div class="modal-footer">
			<input
			  type="button"
			  class="btn btn-default"
			  data-bs-dismiss="modal"
			  value="Cancel"
			/>
			<input type="submit" class="btn btn-info" value="Save Changes" />
		  </div>
		</form>
	  </div>
	</div>
  </div>
  
  
  
  
  <!-- Delete Player Modal -->
  <div id="deletePlayerModal" class="modal fade">
	<div class="modal-dialog">
	  <div class="modal-content">
		<form (ngSubmit)="deletePlayer(selectedPlayer.id!)">
		  <div class="modal-header">
			<h4 class="modal-title">Delete Player</h4>
			<button type="button" class="btn-close" data-bs-dismiss="modal" aria-hidden="true"></button>
		  </div>
		  <div class="modal-body">
			<p>Are you sure you want to delete this player?</p>
			<p class="text-warning"><small>This action cannot be undone.</small></p>
		  </div>
		  <div class="modal-footer">
			<input type="button" class="btn btn-default" data-bs-dismiss="modal" value="Cancel">
			<input type="submit" class="btn btn-danger" value="Delete">
		  </div>
		</form>
	  </div>
	</div>
  </div>
  